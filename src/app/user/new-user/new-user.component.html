<main class="text-center">
  <form [formGroup]="registerForm" (submit)="onSubmit(registerForm.value)">
    <!--ReactiveForms 
  class for Bootstrap
  id for label-->
    <h1 class="h3 mb-3 fw-normal">注册新用户 / Inscription</h1>
    <div class="form-inline row"></div>

    <label for="inputPseudo" class="visually-hidden">用户名</label>
    <input formControlName="pseudo" id="inputPseudo" class="form-control"
      placeholder="用户名 / Username : 字母开头，允许5-16字节，允许字母数字下划线" pattern='^[a-zA-Z][a-zA-Z0-9_]{4,15}$' required autofocus>

    <div *ngIf="(pseudoControl?.touched || pseudoControl?.dirty) && pseudoControl?.errors?.usernameExists"
      class="alert alert-danger">
      This username is already taken!
    </div>

    <div *ngIf="(pseudoControl?.touched || pseudoControl?.dirty) && pseudoControl?.errors?.pattern"
      class="alert alert-danger">
      用户名不符合规范 </div>

    <label for="inputPassword" class="visually-hidden">密码 / Password</label>
    <input type="password" formControlName="password" id="inputPassword" class="form-control"
      pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,30}" placeholder="密码长度至少8位，含有数字&大写字母&小写字母，不含特殊字母" required>
    <div *ngIf="(pwdControl?.touched || pwdControl?.dirty) && pwdControl?.errors?.pattern" class="alert alert-danger">
      密码不匹配规则</div>




    <label for="confirmPassword" class="visually-hidden">确认密码 / Password Confirmation</label>
    <input type="password" id="confirmPassword" formControlName="checkPassword" class="form-control"
      placeholder="请再次输入您的密码" required>

    <div *ngIf="(registerForm.touched || registerForm.dirty) && registerForm.errors?.pwdDoubleCheckInvalid"
      class="alert alert-danger">
      密码不匹配 </div>

    <button type="submit" class="w-100 btn btn-lg btn-primary" type="submit" (click)="checkValue()"
      [disabled]="!registerForm.valid">Submit</button>

  </form>

</main>